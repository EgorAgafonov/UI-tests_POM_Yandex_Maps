{"name": "Определение геолокации пользователя на карте", "status": "failed", "statusDetails": {"message": "AssertionError: ОШИБКА! Город геолокации пользователя на сайте:'Москва' не совпадает с городом в момент тестирования (фактическим): 'Видное'.\nassert 'Москва' == 'Видное'\n  - Видное\n  + Москва", "trace": "self = <tests.map_page_positive.TestMapPagePositive object at 0x000001F9C0454C70>, driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"9065de26983eae282ca1f95646c4029a\")>, current_geoloc = 'Видное'\n\n    @pytest.mark.geoloc\n    @allure.title(\"Определение геолокации пользователя на карте\")\n    @allure.testcase(\"https://yandex.ru/maps\", \"TC-YMPS-GLC-01\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.label(LabelType.LANGUAGE, \"Python\")\n    @allure.label(LabelType.FRAMEWORK, \"Pytest\", \"Selenium\")\n    @allure.label(\"Агафонов Е.А.\", \"владелец\")\n    @allure.link(\"https://yandex.ru/maps\", name=\"https://yandex.ru/maps\")\n    @allure.epic(\"Пользовательский интерфейс (позитивные тесты)\")\n    @allure.feature(\"Определение текущей геолокации пользователя на карте\")\n    def test_current_geoloc_btn_click(self, driver, current_geoloc='Видное'):\n        \"\"\"Позитивный тест проверки работы кнопки \"Моё местоположение\", определяющую текущую геолокацию пользователя.\n        Тестирование выполняется без предварительной авторизации пользователя в системе. Аргумент current_geoloc должен\n        содержать строчное наименование города(населенного пункта) с заглавной буквы, в котором пользователь находится\n        в момент теста. Валидация теста выполнена успешно в случае, если место фактического местонахождения пользователя\n        совпадает с местом, отображаемом на карте.\"\"\"\n    \n        with allure.step(\"Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.\"):\n            page = MainPage(driver)\n            page.wait_page_loaded()\n        with allure.step(\"Шаг 2: Нажать на элемент 'Моё местоположение'(стрелка геолокации).\"):\n            page.my_current_geoloc_btn_click(driver)\n            page.wait_page_loaded()\n            page.refresh_page()\n            page.wait_page_loaded()\n            page.zoom_out_map(driver, amount=\"high\")\n            page.zoom_out_map(driver)\n            page.wait_page_loaded()\n        with allure.step(\"Шаг 3: Выполнить сравнение ожидаемого и фактического результатов теста.\"):\n            parsed_geoloc = page.get_current_geoloc_name(driver)\n            page.make_screenshot(file_path=screenshots_folder + \"\\\\test_current_geoloc_btn_.png\")\n            allure.attach(page.get_page_screenshot_PNG(),\n                          name=\"current_geoloc_btn_click_actual\",\n                          attachment_type=allure.attachment_type.PNG)\n>           assert parsed_geoloc == current_geoloc, (f\"ОШИБКА! Город геолокации пользователя на сайте:'{parsed_geoloc}'\"\n                                                     f\" не совпадает с городом в момент тестирования (фактическим): \"\n                                                     f\"'{current_geoloc}'.\")\nE           AssertionError: ОШИБКА! Город геолокации пользователя на сайте:'Москва' не совпадает с городом в момент тестирования (фактическим): 'Видное'.\nE           assert 'Москва' == 'Видное'\nE             - Видное\nE             + Москва\n\nmap_page_positive.py:87: AssertionError"}, "description": "Позитивный тест проверки работы кнопки \"Моё местоположение\", определяющую текущую геолокацию пользователя.\n        Тестирование выполняется без предварительной авторизации пользователя в системе. Аргумент current_geoloc должен\n        содержать строчное наименование города(населенного пункта) с заглавной буквы, в котором пользователь находится\n        в момент теста. Валидация теста выполнена успешно в случае, если место фактического местонахождения пользователя\n        совпадает с местом, отображаемом на карте.", "steps": [{"name": "Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.", "status": "passed", "start": 1709154858451, "stop": 1709154861691}, {"name": "Шаг 2: Нажать на элемент 'Моё местоположение'(стрелка геолокации).", "status": "passed", "start": 1709154861691, "stop": 1709154885617}, {"name": "Шаг 3: Выполнить сравнение ожидаемого и фактического результатов теста.", "status": "failed", "statusDetails": {"message": "AssertionError: ОШИБКА! Город геолокации пользователя на сайте:'Москва' не совпадает с городом в момент тестирования (фактическим): 'Видное'.\nassert 'Москва' == 'Видное'\n  - Видное\n  + Москва\n", "trace": "  File \"C:\\Users\\agafo\\PycharmProjects\\YandexMaps\\tests\\map_page_positive.py\", line 87, in test_current_geoloc_btn_click\n    assert parsed_geoloc == current_geoloc, (f\"ОШИБКА! Город геолокации пользователя на сайте:'{parsed_geoloc}'\"\n"}, "attachments": [{"name": "current_geoloc_btn_click_actual", "source": "7c70bcc0-2717-4983-8ac9-48a0772a03da-attachment.png", "type": "image/png"}], "start": 1709154885617, "stop": 1709154886083}], "start": 1709154858450, "stop": 1709154886084, "uuid": "77c2f370-5da0-44c6-a0cb-3dba9c6188b3", "historyId": "be4543e2fa7903a7c5644c9191d7b844", "testCaseId": "be4543e2fa7903a7c5644c9191d7b844", "fullName": "tests.map_page_positive.TestMapPagePositive#test_current_geoloc_btn_click", "labels": [{"name": "feature", "value": "Определение текущей геолокации пользователя на карте"}, {"name": "severity", "value": "critical"}, {"name": "language", "value": "Python"}, {"name": "framework", "value": "Pytest"}, {"name": "epic", "value": "Пользовательский интерфейс (позитивные тесты)"}, {"name": "Агафонов Е.А.", "value": "владелец"}, {"name": "tag", "value": "geoloc"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "map_page_positive"}, {"name": "subSuite", "value": "TestMapPagePositive"}, {"name": "host", "value": "DESKTOP-J32RPI2"}, {"name": "thread", "value": "22588-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.map_page_positive"}], "links": [{"type": "link", "url": "https://yandex.ru/maps", "name": "https://yandex.ru/maps"}, {"type": "tms", "url": "https://yandex.ru/maps", "name": "TC-YMPS-GLC-01"}]}