{"name": "Определение геолокации пользователя на карте", "status": "broken", "statusDetails": {"message": "Exception: ОШИБКА! Определенное системой место геолокации пользователя: 'Москва', не совпадает с фактическим: 'Видное'.", "trace": "self = <tests.map_page_positive.TestMapPagePositive object at 0x000001AE0A85F520>, driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"30a312a648a3ad9d5411916770434b00\")>, current_geoloc = 'Видное'\n\n    @pytest.mark.geoloc\n    @allure.title(\"Определение геолокации пользователя на карте\")\n    @allure.testcase(\"https://yandex.ru/maps\", \"TC-YMPS-GLC-01\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.label(LabelType.LANGUAGE, \"Python\")\n    @allure.label(LabelType.FRAMEWORK, \"Pytest\", \"Selenium\")\n    @allure.label(\"Агафонов Е.А.\", \"владелец\")\n    @allure.link(\"https://yandex.ru/maps\", name=\"https://yandex.ru/maps\")\n    @allure.epic(\"Пользовательский интерфейс (позитивные тесты)\")\n    @allure.feature(\"Определение текущей геолокации пользователя на карте\")\n    def test_current_geoloc_btn_click(self, driver, current_geoloc='Видное'):\n        \"\"\"Позитивный тест проверки работы кнопки \"Моё местоположение\", определяющую текущую геолокацию пользователя.\n        Тестирование выполняется без предварительной авторизации пользователя в системе. Аргумент current_geoloc должен\n        содержать строчное наименование города(населенного пункта) с заглавной буквы, в котором пользователь находится\n        в момент теста. Валидация теста выполнена успешно в случае, если место фактического местонахождения пользователя\n        совпадает с местом, отображаемом на карте.\"\"\"\n    \n        with allure.step(\"Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.\"):\n            page = MainPage(driver)\n            page.wait_page_loaded()\n        with allure.step(\"Шаг 2: Нажать на элемент 'Моё местоположение'(стрелка геолокации).\"):\n            page.my_current_geoloc_btn_click(driver)\n            page.wait_page_loaded()\n            page.refresh_page()\n            page.wait_page_loaded()\n            page.decrease_map_size(driver, amount=\"high\")\n            page.decrease_map_size(driver)\n            page.wait_page_loaded()\n            allure.attach(page.get_page_screenshot_PNG(),\n                          name=\"current_geoloc_btn_click_actual\",\n                          attachment_type=allure.attachment_type.PNG)\n        with allure.step(\"Шаг 3: Выполнить сравнение ожидаемого и фактического результатов теста.\"):\n            parsed_geoloc = page.get_current_geoloc_name(driver)\n            if parsed_geoloc == current_geoloc:\n                page.make_screenshot(file_path=screenshots_folder + \"\\\\test_current_geoloc_btn_PASSED.png\")\n                allure.attach(page.get_page_screenshot_PNG(),\n                              name=\"current_geoloc_btn_click_PASSED\",\n                              attachment_type=allure.attachment_type.PNG)\n                print(\"\\nВалидация теста test_current_geoloc_btn_click выполнена успешно!\")\n            else:\n                page.make_screenshot(file_path=screenshots_folder + \"\\\\test_current_geoloc_btn_FAILED.png\")\n                allure.attach(page.get_page_screenshot_PNG(),\n                              name=\"current_geoloc_btn_click_FAILED\",\n                              attachment_type=allure.attachment_type.PNG)\n>               raise Exception(f\"ОШИБКА! Определенное системой место геолокации пользователя: '{parsed_geoloc}', не \"\n                                f\"совпадает с фактическим: '{current_geoloc}'.\")\nE               Exception: ОШИБКА! Определенное системой место геолокации пользователя: 'Москва', не совпадает с фактическим: 'Видное'.\n\nmap_page_positive.py:97: Exception"}, "description": "Позитивный тест проверки работы кнопки \"Моё местоположение\", определяющую текущую геолокацию пользователя.\n        Тестирование выполняется без предварительной авторизации пользователя в системе. Аргумент current_geoloc должен\n        содержать строчное наименование города(населенного пункта) с заглавной буквы, в котором пользователь находится\n        в момент теста. Валидация теста выполнена успешно в случае, если место фактического местонахождения пользователя\n        совпадает с местом, отображаемом на карте.", "steps": [{"name": "Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.", "status": "passed", "start": 1706168577121, "stop": 1706168580397}, {"name": "Шаг 2: Нажать на элемент 'Моё местоположение'(стрелка геолокации).", "status": "passed", "attachments": [{"name": "current_geoloc_btn_click_actual", "source": "77a08914-dfd6-4e4c-b417-fdf2bc5a28b8-attachment.png", "type": "image/png"}], "start": 1706168580397, "stop": 1706168595597}, {"name": "Шаг 3: Выполнить сравнение ожидаемого и фактического результатов теста.", "status": "broken", "statusDetails": {"message": "Exception: ОШИБКА! Определенное системой место геолокации пользователя: 'Москва', не совпадает с фактическим: 'Видное'.\n", "trace": "  File \"C:\\Users\\agafo\\PycharmProjects\\YandexMaps\\tests\\map_page_positive.py\", line 97, in test_current_geoloc_btn_click\n    raise Exception(f\"ОШИБКА! Определенное системой место геолокации пользователя: '{parsed_geoloc}', не \"\n"}, "attachments": [{"name": "current_geoloc_btn_click_FAILED", "source": "b545b754-96a1-4825-894b-a1cb638dae23-attachment.png", "type": "image/png"}], "start": 1706168595597, "stop": 1706168596047}], "attachments": [{"name": "stdout", "source": "1346ff6e-dfbf-455d-927f-e2e4d8496a08-attachment.txt", "type": "text/plain"}], "start": 1706168577121, "stop": 1706168596050, "uuid": "d6890405-bbc1-4552-b2ca-e33bdde5125e", "historyId": "be4543e2fa7903a7c5644c9191d7b844", "testCaseId": "be4543e2fa7903a7c5644c9191d7b844", "fullName": "tests.map_page_positive.TestMapPagePositive#test_current_geoloc_btn_click", "labels": [{"name": "Агафонов Е.А.", "value": "владелец"}, {"name": "feature", "value": "Определение текущей геолокации пользователя на карте"}, {"name": "language", "value": "Python"}, {"name": "framework", "value": "Pytest"}, {"name": "severity", "value": "critical"}, {"name": "epic", "value": "Пользовательский интерфейс (позитивные тесты)"}, {"name": "tag", "value": "geoloc"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "map_page_positive"}, {"name": "subSuite", "value": "TestMapPagePositive"}, {"name": "host", "value": "DESKTOP-J32RPI2"}, {"name": "thread", "value": "5256-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.map_page_positive"}], "links": [{"type": "link", "url": "https://yandex.ru/maps", "name": "https://yandex.ru/maps"}, {"type": "tms", "url": "https://yandex.ru/maps", "name": "TC-YMPS-GLC-01"}]}