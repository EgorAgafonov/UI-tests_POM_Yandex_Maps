{"name": "Работа карты в режиме изометрического отображения объектов (3D-режим)", "status": "failed", "statusDetails": {"message": "AssertionError: The page loaded more than 30 seconds!", "trace": "self = <tests.map_page_positive.TestMapPagePositive object at 0x0000016407095D80>, driver = <selenium.webdriver.chrome.webdriver.WebDriver (session=\"18b008f8c0be739e6e5763e6a9801fd4\")>\nrandom_place = 'Москва, Музей советских игровых автоматов'\n\n    @pytest.mark.map_3D_click\n    @allure.title(\"Работа карты в режиме изометрического отображения объектов (3D-режим)\")\n    @allure.testcase(\"https://yandex.ru/maps\", \"TC-YMPS-3DMD-01\")\n    @allure.severity(allure.severity_level.CRITICAL)\n    @allure.label(LabelType.LANGUAGE, \"Python\")\n    @allure.label(LabelType.FRAMEWORK, \"Pytest\", \"Selenium\")\n    @allure.label(\"Агафонов Е.А.\", \"владелец\")\n    @allure.link(\"https://yandex.ru/maps\", name=\"https://yandex.ru/maps\")\n    @allure.epic(\"Пользовательский интерфейс (позитивные тесты)\")\n    @allure.feature(\"Проверка работы элемента 'Наклонить карту' (3D-режим карты)\")\n    def test_3D_map_btn_click(self, driver, random_place=\"Москва, Музей советских игровых автоматов\"):\n        \"\"\"Позитивный тест проверки работы кнопки 3D-режима карты. Валидация теста выполнена успешно в случае, если\n        после воздействия на элемент \"Наклонить карту\" изображение карты меняется с плоского вида \"сверху\" на режим\n        \"наклона\" с трехмерным отображением объектов (3D-режим).\"\"\"\n    \n        with allure.step(\"Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.\"):\n            page = MainPage(driver)\n>           page.wait_page_loaded()\n\nmap_page_positive.py:161: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.main_page.MainPage object at 0x000001640721AAA0>, timeout = 30, check_js_complete = True, check_page_changes = False, check_images = False, wait_for_element = None, wait_for_xpath_to_disappear = '', sleep_time = 2\n\n    def wait_page_loaded(self, timeout=30, check_js_complete=True, check_page_changes=False, check_images=False,\n                         wait_for_element=None, wait_for_xpath_to_disappear='', sleep_time=2):\n    \n        \"\"\" Метод для реализации гибкой стратегии ожидания появления элементов страницы. Возможно задать следующее\n        количество аргументов(маркеров) для определения полной загрузки:\n        1) Проверка JavaScript статуса страницы;\n        2) Проверка изменений в исходном коде страницы;\n        3) Проверка загрузки изображений на странице (ВАЖНО: эта проверка отключена по умолчанию);\n        4) Проверка загрузки конкретного элемента страницы, ожидаемого пользователем.\"\"\"\n    \n        page_loaded = False\n        double_check = False\n        k = 0\n    \n        if sleep_time:\n            time.sleep(sleep_time)\n    \n        # Get source code of the page to track changes in HTML:\n        source = ''\n        try:\n            source = self.driver.page_source\n        except:\n            pass\n    \n        # Wait until page loaded (and scroll it, to make sure all objects will be loaded):\n        while not page_loaded:\n            time.sleep(0.5)\n            k += 1\n    \n            if check_js_complete:\n                # Scroll down and wait when page will be loaded:\n                try:\n                    self.driver.execute_script('window.scrollTo(0, document.body.scrollHeight);')\n                    page_loaded = self.driver.execute_script(\"return document.readyState == 'complete';\")\n                except Exception as e:\n                    pass\n    \n            if page_loaded and check_page_changes:\n                # Check if the page source was changed\n                new_source = ''\n                try:\n                    new_source = self.driver.page_source\n                except:\n                    pass\n    \n                page_loaded = new_source == source\n                source = new_source\n    \n            # Wait when some element will disappear:\n            if page_loaded and wait_for_xpath_to_disappear:\n                bad_element = None\n    \n                try:\n                    bad_element = WebDriverWait(self.driver, 0.1).until(\n                        EC.presence_of_element_located((By.XPATH, wait_for_xpath_to_disappear))\n                    )\n                except:\n                    pass  # Ignore timeout errors\n    \n                page_loaded = not bad_element\n    \n            if page_loaded and wait_for_element:\n                try:\n                    page_loaded = WebDriverWait(self.driver, 0.1).until(\n                        EC.element_to_be_clickable(wait_for_element.locator)\n                    )\n                except:\n                    pass  # Ignore timeout errors\n    \n>           assert k < timeout, 'The page loaded more than {0} seconds!'.format(timeout)\nE           AssertionError: The page loaded more than 30 seconds!\n\n..\\pages\\base_page.py:181: AssertionError"}, "description": "Позитивный тест проверки работы кнопки 3D-режима карты. Валидация теста выполнена успешно в случае, если\n        после воздействия на элемент \"Наклонить карту\" изображение карты меняется с плоского вида \"сверху\" на режим\n        \"наклона\" с трехмерным отображением объектов (3D-режим).", "steps": [{"name": "Шаг 1: Перейти на сайт https://yandex.ru/maps/ и дождаться полной загрузки всех элементов.", "status": "failed", "statusDetails": {"message": "AssertionError: The page loaded more than 30 seconds!\n", "trace": "  File \"C:\\Users\\agafo\\PycharmProjects\\YandexMaps\\tests\\map_page_positive.py\", line 161, in test_3D_map_btn_click\n    page.wait_page_loaded()\n  File \"C:\\Users\\agafo\\PycharmProjects\\YandexMaps\\pages\\base_page.py\", line 181, in wait_page_loaded\n    assert k < timeout, 'The page loaded more than {0} seconds!'.format(timeout)\n"}, "start": 1709657608982, "stop": 1709657626347}], "start": 1709657608982, "stop": 1709657626348, "uuid": "08743f52-c75e-49d3-a652-b9d5d60f0823", "historyId": "e3b647ddc9d71ee06f5b40105d5fe9ee", "testCaseId": "e3b647ddc9d71ee06f5b40105d5fe9ee", "fullName": "tests.map_page_positive.TestMapPagePositive#test_3D_map_btn_click", "labels": [{"name": "language", "value": "Python"}, {"name": "severity", "value": "critical"}, {"name": "feature", "value": "Проверка работы элемента 'Наклонить карту' (3D-режим карты)"}, {"name": "epic", "value": "Пользовательский интерфейс (позитивные тесты)"}, {"name": "Агафонов Е.А.", "value": "владелец"}, {"name": "framework", "value": "Pytest"}, {"name": "tag", "value": "map_3D_click"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "map_page_positive"}, {"name": "subSuite", "value": "TestMapPagePositive"}, {"name": "host", "value": "DESKTOP-J32RPI2"}, {"name": "thread", "value": "22416-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.map_page_positive"}], "links": [{"type": "link", "url": "https://yandex.ru/maps", "name": "https://yandex.ru/maps"}, {"type": "tms", "url": "https://yandex.ru/maps", "name": "TC-YMPS-3DMD-01"}]}